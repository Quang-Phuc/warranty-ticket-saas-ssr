<div class="auth-wrap">
  <div class="bg-shape s1" aria-hidden="true"></div>
  <div class="bg-shape s2" aria-hidden="true"></div>
  <div class="bg-noise" aria-hidden="true"></div>

  <div class="auth-container single">
    <main class="auth-card">
      <a class="brand-top" routerLink="/">
        WARRANTY<span>PRO</span>
      </a>

      <div class="card-head">
        <div class="badge-trial">
          <span class="dot"></span>
          D√πng th·ª≠ mi·ªÖn ph√≠ 14 ng√†y ‚Ä¢ Kh√¥ng c·∫ßn th·∫ª
        </div>

        <h1 class="title">T·∫°o t√†i kho·∫£n</h1>
        <p class="subtitle">
          Ch·ªâ c·∫ßn 30 gi√¢y. B·∫Øt ƒë·∫ßu qu·∫£n l√Ω b·∫£o h√†nh &amp; s·ª≠a ch·ªØa ngay.
        </p>
      </div>

      <div class="error-banner" *ngIf="errorMessage() as msg">
        <span class="e-ic">‚ö†Ô∏è</span>
        <span class="e-txt">{{ msg }}</span>
      </div>

      <div class="success-banner" *ngIf="successMessage() as msg">
        <span class="s-ic">‚úÖ</span>
        <span class="s-txt">{{ msg }}</span>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
        <div class="field">
          <label class="label">Ng√†nh ngh·ªÅ</label>
          <div class="input-shell select">
            <span class="icon">üè∑Ô∏è</span>
            <select class="input" formControlName="industry">
              <option *ngFor="let it of industries" [value]="it.value">{{ it.label }}</option>
            </select>
            <span class="chev">‚ñæ</span>
          </div>
        </div>

        <div class="field">
          <label class="label">S·ªë ƒëi·ªán tho·∫°i</label>
          <div class="input-shell">
            <span class="icon">üìû</span>
            <input
              type="tel"
              class="input"
              placeholder="V√≠ d·ª•: 0912345678"
              formControlName="phone"
              autocomplete="tel"
            />
          </div>
          <div class="hint" *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid">
            S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá (g·ª£i √Ω: 0xxxxxxxxx ho·∫∑c +84xxxxxxxxx).
          </div>
        </div>

        <div class="field">
          <label class="label">M·∫≠t kh·∫©u</label>
          <div class="input-shell">
            <span class="icon">üîí</span>
            <input
              class="input"
              [type]="showPassword ? 'text' : 'password'"
              placeholder="T·ªëi thi·ªÉu 6 k√Ω t·ª±"
              formControlName="password"
              autocomplete="new-password"
            />
            <button type="button" class="eye" (click)="togglePassword()" aria-label="Toggle password">
              {{ showPassword ? 'üôà' : 'üëÅÔ∏è' }}
            </button>
          </div>
          <div class="hint" *ngIf="form.get('password')?.touched && form.get('password')?.errors?.['weak']">
            M·∫≠t kh·∫©u ph·∫£i t·ª´ 6 k√Ω t·ª± tr·ªü l√™n.
          </div>
        </div>

        <div class="field">
          <label class="label">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
          <div class="input-shell">
            <span class="icon">üîÅ</span>
            <input
              class="input"
              [type]="showConfirm ? 'text' : 'password'"
              placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u"
              formControlName="confirmPassword"
              autocomplete="new-password"
            />
            <button type="button" class="eye" (click)="toggleConfirm()" aria-label="Toggle password confirm">
              {{ showConfirm ? 'üôà' : 'üëÅÔ∏è' }}
            </button>
          </div>
          <div class="hint" *ngIf="form.touched && form.errors?.['passwordMismatch']">
            M·∫≠t kh·∫©u nh·∫≠p l·∫°i kh√¥ng kh·ªõp.
          </div>
        </div>

        <div class="button-wrapper">
          <ui-button
            class="register-btn"
            variant="primary"
            [loading]="loading()"
            type="submit"
          >
            ‚ú® B·∫Øt ƒë·∫ßu d√πng th·ª≠ mi·ªÖn ph√≠
          </ui-button>
        </div>

        <div class="below">
          <span class="muted">
            ƒê√£ c√≥ t√†i kho·∫£n?
            <a routerLink="/login">ƒêƒÉng nh·∫≠p</a>
          </span>
        </div>
      </form>

      <div class="mini-benefits">
        <div class="mb-item"><span>‚úÖ</span> T·∫°o ticket + timeline minh b·∫°ch</div>
        <div class="mb-item"><span>‚úÖ</span> Tra c·ª©u b·∫£o h√†nh cho kh√°ch</div>
        <div class="mb-item"><span>‚úÖ</span> Gi·∫£m tranh ch·∫•p nh·ªù ·∫£nh + k√Ω nh·∫≠n</div>
      </div>
    </main>
  </div>
</div>
