<div class="auth-wrap">
  <div class="bg-shape s1" aria-hidden="true"></div>
  <div class="bg-shape s2" aria-hidden="true"></div>
  <div class="bg-noise" aria-hidden="true"></div>

  <div class="auth-container single">
    <main class="auth-card">
      <a class="brand-top" routerLink="/">
        WARRANTY<span>PRO</span>
      </a>

      <div class="card-head">
        <div class="badge-trial">
          <span class="dot"></span>
          DÃ¹ng thá»­ miá»…n phÃ­ 14 ngÃ y â€¢ KhÃ´ng cáº§n tháº»
        </div>

        <h1 class="title">ChÃ o má»«ng trá»Ÿ láº¡i</h1>
        <p class="subtitle">
          ÄÄƒng nháº­p Ä‘á»ƒ quáº£n lÃ½ báº£o hÃ nh &amp; sá»­a chá»¯a gá»n hÆ¡n.
        </p>
      </div>

      <div class="error-banner" *ngIf="errorMessage() as msg">
        <span class="e-ic">âš ï¸</span>
        <span class="e-txt">{{ msg }}</span>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
        <div class="field">
          <label class="label">TÃ i khoáº£n</label>
          <div class="input-shell">
            <span class="icon">ğŸ‘¤</span>
            <input
              type="text"
              class="input"
              placeholder="TÃªn Ä‘Äƒng nháº­p hoáº·c Email"
              formControlName="username"
              autocomplete="username"
            />
          </div>
        </div>

        <div class="field">
          <label class="label">Máº­t kháº©u</label>
          <div class="input-shell">
            <span class="icon">ğŸ”’</span>
            <input
              class="input"
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Máº­t kháº©u"
              formControlName="password"
              autocomplete="current-password"
            />
            <button type="button" class="eye" (click)="togglePassword()" aria-label="Toggle password">
              {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
            </button>
          </div>
        </div>

        <div class="actions">
          <a routerLink="/forgot-password" class="forgot-link">QuÃªn máº­t kháº©u?</a>
        </div>

        <div class="button-wrapper">
          <ui-button class="login-btn" variant="primary" [loading]="loading()" type="submit">
            ÄÄƒng nháº­p
          </ui-button>
        </div>

        <div class="divider"><span>hoáº·c</span></div>

        <button type="button" class="btn-ghost" routerLink="/register">
          âœ¨ Báº¯t Ä‘áº§u dÃ¹ng thá»­ miá»…n phÃ­
          <span class="arrow">â†’</span>
        </button>
      </form>

      <div class="mini-benefits">
        <div class="mb-item"><span>âœ…</span> QR báº£o hÃ nh / Serial / IMEI</div>
        <div class="mb-item"><span>âœ…</span> Ticket chuáº©n hÃ³a + timeline</div>
        <div class="mb-item"><span>âœ…</span> Portal tra cá»©u cho khÃ¡ch</div>
      </div>
    </main>
  </div>
</div>

<ui-confirm-modal
  [open]="modal().open"
  [title]="modal().title"
  [message]="modal().message"
  [icon]="modal().icon"
  [confirmText]="modal().confirmText"
  [cancelText]="modal().cancelText"
  [confirmStyle]="modal().confirmStyle"
  (confirm)="onModalConfirm()"
  (cancel)="onModalCancel()"
></ui-confirm-modal>
