<div class="auth-wrap">
    <div class="bg-shape s1" aria-hidden="true"></div>
    <div class="bg-shape s2" aria-hidden="true"></div>
    <div class="bg-noise" aria-hidden="true"></div>

    <div class="auth-container">
        <!-- Left marketing -->
        <aside class="auth-side">
            <a class="brand" routerLink="/">
                WARRANTY<span>PRO</span>
            </a>

            <h2 class="side-title">
                Qu·∫£n l√Ω <span>Ticket &amp; B·∫£o h√†nh</span> hi·ªán ƒë·∫°i
            </h2>

            <p class="side-sub">
                Chu·∫©n ho√° quy tr√¨nh ti·∫øp nh·∫≠n ‚Üí b√°o gi√° ‚Üí s·ª≠a ch·ªØa ‚Üí b√†n giao.
                Minh b·∫°ch timeline, gi·∫£m tranh ch·∫•p, kh√°ch tra c·ª©u t·ª± ƒë·ªông.
            </p>

            <div class="side-kpis">
                <div class="kpi-card">
                    <div class="kpi">‚â§ 60s</div>
                    <div class="kpi-sub">T·∫°o ticket ti·∫øp nh·∫≠n</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi">·∫¢nh + k√Ω nh·∫≠n</div>
                    <div class="kpi-sub">Gi·∫£m tranh ch·∫•p</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi">Portal tra c·ª©u</div>
                    <div class="kpi-sub">Kh√°ch t·ª± xem ti·∫øn ƒë·ªô</div>
                </div>
            </div>

            <div class="side-cta">
                <div class="cta-text">
                    <strong>D√πng th·ª≠ mi·ªÖn ph√≠ 14 ng√†y</strong>
                    <span>Kh√¥ng c·∫ßn th·∫ª ‚Ä¢ H·ªßy b·∫•t k·ª≥ l√∫c n√†o</span>
                </div>

                <button class="btn-cta" routerLink="/register" type="button">
                    ‚ú® D√πng th·ª≠ mi·ªÖn ph√≠
                    <span class="arrow">‚Üí</span>
                </button>
            </div>

            <div class="side-foot">üîí Multi-tenant ‚Ä¢ ‚ö° SSR nhanh ‚Ä¢ üì± Mobile-first</div>
        </aside>

        <!-- Right login -->
        <main class="auth-card">
            <div class="card-head">
                <h1 class="title">Ch√†o m·ª´ng tr·ªü l·∫°i</h1>
                <p class="subtitle">ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω b·∫£o h√†nh &amp; s·ª≠a ch·ªØa g·ªçn h∆°n.</p>
            </div>

            <!-- Error banner -->
            <div class="error-banner" *ngIf="errorMessage() as msg">
                <span class="e-ic">‚ö†Ô∏è</span>
                <span class="e-txt">{{ msg }}</span>
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
                <div class="field">
                    <label class="label">T√†i kho·∫£n</label>
                    <div class="input-shell">
                        <span class="icon">üë§</span>
                        <input
                                type="text"
                                class="input"
                                placeholder="T√™n ƒëƒÉng nh·∫≠p ho·∫∑c Email"
                                formControlName="username"
                                autocomplete="username"
                        />
                    </div>
                </div>

                <div class="field">
                    <label class="label">M·∫≠t kh·∫©u</label>
                    <div class="input-shell">
                        <span class="icon">üîí</span>
                        <input
                                class="input"
                                [type]="showPassword ? 'text' : 'password'"
                                placeholder="M·∫≠t kh·∫©u"
                                formControlName="password"
                                autocomplete="current-password"
                        />
                        <button type="button" class="eye" (click)="togglePassword()" aria-label="Toggle password">
                            {{ showPassword ? 'üôà' : 'üëÅÔ∏è' }}
                        </button>
                    </div>
                </div>

                <div class="actions">
                    <a routerLink="/forgot-password" class="forgot-link">Qu√™n m·∫≠t kh·∫©u?</a>
                    <button type="button" class="link-btn" (click)="mockLogin()">Mock login</button>
                </div>

                <div class="button-wrapper">
                    <!-- ‚úÖ D√ôNG ƒë√∫ng selector: ui-button -->
                    <ui-button
                            class="login-btn"
                            variant="primary"
                            [loading]="loading()"
                            type="submit"
                    >
                        ƒêƒÉng nh·∫≠p
                    </ui-button>
                </div>

                <div class="divider"><span>ho·∫∑c</span></div>

                <button type="button" class="btn-ghost" routerLink="/register">
                    B·∫Øt ƒë·∫ßu d√πng th·ª≠ mi·ªÖn ph√≠
                    <span class="arrow">‚Üí</span>
                </button>
            </form>

            <div class="mini-benefits">
                <div class="mb-item"><span>‚úÖ</span> QR b·∫£o h√†nh / Serial / IMEI</div>
                <div class="mb-item"><span>‚úÖ</span> Ticket chu·∫©n h√≥a + timeline</div>
                <div class="mb-item"><span>‚úÖ</span> Portal tra c·ª©u cho kh√°ch</div>
            </div>
        </main>
    </div>
</div>
