<!-- src/app/features/shell/layout/app-shell/app-shell.component.html -->
<div class="shell" [attr.data-theme]="theme()">
  <aside class="sidebar">
    <div class="side-top">
      <div class="brand">
        <div class="logo">WP</div>
        <div class="brand-text">
          <div class="name">WarrantyPro</div>
          <div class="sub">Workspace</div>
        </div>
      </div>

      <button class="theme-btn" type="button" (click)="toggleTheme()" aria-label="Toggle theme">
        <span class="ic">{{ theme() === 'dark' ? 'üåô' : '‚òÄÔ∏è' }}</span>
        <span class="txt">{{ theme() === 'dark' ? 'Dark' : 'Light' }}</span>
      </button>
    </div>

    <div class="nav-wrap">
      <ng-container *ngFor="let group of navGroups()">
        <div class="group-title">{{ group.label }}</div>

        <div class="nav">
          <ng-container *ngFor="let item of group.items">
            <!-- Parent -->
            <button
              *ngIf="item.children?.length; else leafItem"
              type="button"
              class="nav-item nav-parent"
              [ngClass]="{ open: isOpen(item.id) }"
              (click)="toggleOpen(item.id)"
            >
              <span class="left">
                <span class="icon">{{ item.icon || 'üìÅ' }}</span>
                <span class="label">{{ item.label }}</span>
              </span>
              <span class="chev">{{ isOpen(item.id) ? '‚ñæ' : '‚ñ∏' }}</span>
            </button>

            <!-- Leaf -->
            <ng-template #leafItem>
              <a
                class="nav-item"
                [routerLink]="item.route"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
              >
                <span class="icon">{{ item.icon || '‚Ä¢' }}</span>
                <span class="label">{{ item.label }}</span>
              </a>
            </ng-template>

            <!-- Children -->
            <div class="children" *ngIf="item.children?.length && isOpen(item.id)">
              <a
                class="nav-sub"
                *ngFor="let c of item.children"
                [routerLink]="c.route"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
              >
                <span class="dot"></span>
                <span class="label">{{ c.label }}</span>
              </a>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </div>

    <div class="side-bottom">
      <ui-button variant="ghost" (click)="logout()">ƒêƒÉng xu·∫•t</ui-button>
    </div>
  </aside>

  <main class="content">
    <router-outlet />
  </main>
</div>
