<div class="upload">
    <!-- input hidden -->
    <input
        #fileInput
        type="file"
        [attr.accept]="accept()"
        [attr.multiple]="mode() === 'files' || mode() === 'images' ? '' : null"
        [disabled]="disabled()"
        hidden
        (change)="onPick(fileInput)"
    />

    <!-- pick button -->
    <button
            class="pick-btn"
            type="button"
            (click)="fileInput.click()"
            [disabled]="disabled()"
    >
        <span class="icon">‚¨Ü</span>
        <span>
      Ch·ªçn {{ mode().includes('image') ? '·∫£nh' : 'file' }}
            <span class="hint" *ngIf="mode() === 'images' || mode() === 'files'">
        (nhi·ªÅu)
      </span>
    </span>
    </button>

    <!-- ‚úÖ IMAGE PREVIEW (image/images) -->
    <div class="thumbs" *ngIf="previews().length">
        <div class="thumb" *ngFor="let url of previews(); let i = index">
            <img [src]="url" />
            <button
                    class="remove"
                    title="X√≥a ·∫£nh"
                    type="button"
                    (click)="removeAt(i)"
                    [disabled]="disabled()"
            >
                ‚úï
            </button>
        </div>
    </div>

    <!-- ‚úÖ FILE VIEW (file/files) -->
    <div
            class="files"
            *ngIf="!previews().length && (singleFile() || multiFiles().length)"
    >
        <!-- single file -->
        <div class="file" *ngIf="singleFile()">
            <span class="file-icon">üìÑ</span>
            <span class="name" [title]="singleFile()?.name">
        {{ singleFile()?.name }}
      </span>

            <button
                    class="remove"
                    title="X√≥a file"
                    type="button"
                    (click)="removeAt(0)"
                    [disabled]="disabled()"
            >
                ‚úï
            </button>
        </div>

        <!-- multi file -->
        <div class="file" *ngFor="let f of multiFiles(); let i = index">
            <span class="file-icon">üìÑ</span>
            <span class="name" [title]="f.name">{{ f.name }}</span>

            <button
                    class="remove"
                    title="X√≥a file"
                    type="button"
                    (click)="removeAt(i)"
                    [disabled]="disabled()"
            >
                ‚úï
            </button>
        </div>
    </div>
</div>
