@use './app/styles/variables' as *;
@use './app/styles/mixins' as *;
@use './app/styles/theme' as *;

/* ==========================
   ✅ GLOBAL RESET
========================== */
* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
}
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: #0b0f14;
  color: #e7eef7;
}

a {
  color: inherit;
}

/* ==========================
   ✅ DEFAULT THEME = DARK
   (Fix reload bị hồng nhạt)
========================== */
:root {
  --primary: #7c3aed;

  --page: #050a1a;
  --text: #f9fafb;
  --card: rgba(15, 23, 42, 0.88);
  --input: rgba(255, 255, 255, 0.06);
  --border: rgba(255, 255, 255, 0.12);
  --muted: rgba(255, 255, 255, 0.08);
  --shadow: 0 14px 30px rgba(0, 0, 0, 0.6);
}

/* ✅ OPTIONAL: Nếu sau này muốn light theme */
[data-theme='light'] {
  --primary: #6366f1;

  --page: #f6f7fb;
  --text: #111827;
  --card: rgba(255, 255, 255, 0.92);
  --input: rgba(255, 255, 255, 0.95);
  --border: rgba(15, 23, 42, 0.12);
  --muted: rgba(15, 23, 42, 0.06);
  --shadow: 0 10px 26px rgba(15, 23, 42, 0.08);
}

/* ==========================
   ✅ MAT DIALOG PANEL FIX
========================== */
.ui-form-modal-panel .mat-mdc-dialog-container {
  padding: 0 !important;
  overflow: hidden !important;
}

/* ==========================
   ✅ FIX MATERIAL INPUT DARK
   (Không phụ thuộc HMR)
========================== */

/* wrapper */
.mat-mdc-text-field-wrapper {
  background: rgba(148, 163, 184, 0.06) !important;
  border-radius: 14px !important;
}

/* outline border */
.mdc-text-field--outlined .mdc-notched-outline__leading,
.mdc-text-field--outlined .mdc-notched-outline__notch,
.mdc-text-field--outlined .mdc-notched-outline__trailing {
  border-color: rgba(148, 163, 184, 0.3) !important;
  border-width: 1px !important;
}

/* hover */
.mat-mdc-form-field:hover .mdc-notched-outline__leading,
.mat-mdc-form-field:hover .mdc-notched-outline__notch,
.mat-mdc-form-field:hover .mdc-notched-outline__trailing {
  border-color: rgba(148, 163, 184, 0.55) !important;
}

/* focus */
.mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing {
  border-color: rgba(99, 102, 241, 0.9) !important;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.18);
}

/* fix notch || */
.mdc-notched-outline__notch {
  border-left: 0 !important;
  border-right: 0 !important;
}

/* label */
.mat-mdc-floating-label,
.mat-mdc-form-field-label {
  color: rgba(226, 232, 240, 0.75) !important;
}

/* input text */
input.mat-mdc-input-element,
textarea.mat-mdc-input-element {
  color: #e2e8f0 !important;
}

/* placeholder */
input::placeholder,
textarea::placeholder {
  color: rgba(226, 232, 240, 0.5) !important;
}

/* select value */
.mat-mdc-select-value-text {
  color: #e2e8f0 !important;
  font-weight: 600;
}
.mat-mdc-select-arrow {
  color: rgba(226, 232, 240, 0.75) !important;
}

/* select panel */
.mat-mdc-select-panel {
  background: #0b1328 !important;
  color: #e2e8f0 !important;
  border: 1px solid rgba(148, 163, 184, 0.18);
  border-radius: 14px;
}
.mat-mdc-option {
  color: #e2e8f0 !important;
}
.mat-mdc-option:hover {
  background: rgba(148, 163, 184, 0.08) !important;
}
.mat-mdc-option.mdc-list-item--selected {
  background: rgba(99, 102, 241, 0.18) !important;
}

/* ==========================
   ✅ TOAST (MAT SNACKBAR)
========================== */
:root {
  --toast-radius: 14px;
  --toast-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
  --toast-padding-y: 12px;
  --toast-padding-x: 14px;
  --toast-gap: 10px;

  --toast-success: #16a34a;
  --toast-error: #dc2626;
  --toast-info: #2563eb;
  --toast-text: #ffffff;
}

/* Snackbar overlay priority */
.cdk-overlay-container,
.cdk-overlay-pane {
  z-index: 99999 !important;
}

.snackbar-success .mdc-snackbar__surface,
.snackbar-error .mdc-snackbar__surface,
.snackbar-info .mdc-snackbar__surface {
  border-radius: var(--toast-radius) !important;
  box-shadow: var(--toast-shadow) !important;
  padding: var(--toast-padding-y) var(--toast-padding-x) !important;
  min-width: 320px;
  max-width: 420px;
}

.snackbar-success .mdc-snackbar__label,
.snackbar-error .mdc-snackbar__label,
.snackbar-info .mdc-snackbar__label {
  color: var(--toast-text) !important;
  font-weight: 500;
  letter-spacing: 0.2px;
}

.snackbar-success .mdc-snackbar__actions button,
.snackbar-error .mdc-snackbar__actions button,
.snackbar-info .mdc-snackbar__actions button {
  color: rgba(255, 255, 255, 0.9) !important;
  font-weight: 600;
}

/* Background per type */
.snackbar-success .mdc-snackbar__surface {
  background: var(--toast-success) !important;
}
.snackbar-error .mdc-snackbar__surface {
  background: var(--toast-error) !important;
}
.snackbar-info .mdc-snackbar__surface {
  background: var(--toast-info) !important;
}

.mat-mdc-snack-bar-container {
  margin: var(--toast-gap) !important;
}

/* top-right positioning */
.cdk-global-overlay-wrapper:has(.toast-top-right) {
  justify-content: flex-end !important;
  align-items: flex-start !important;
}
.cdk-overlay-pane:has(.toast-top-right) {
  top: 0 !important;
  right: 0 !important;
  left: auto !important;
  bottom: auto !important;
}
.toast-top-right {
  margin-top: 16px !important;
  margin-right: 16px !important;
}
